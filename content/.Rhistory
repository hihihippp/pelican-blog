library(knitcitations)
write.bibtex(c("bibtex", "knitr", "knitcitations"), file = "example.bib")
library(bibtex)
write.bibtex(c("bibtex", "knitr", "knitcitations"), file = "example.bib")
bib <- read.bibtex("~/Documents/Writing/Fictive Motion Corpus Study/sample-paper/sample-library.bib")
bib <- read.bibtex("~/Documents/Writing/Fictive Motion Corpus Study/sample-paper/sample-library.bib")
bib
bib <- read.bibtex("~/Desktop/mypubs.bib")
bib
txt = "_id  avgViolence	count
0	Hurricane Sandy	0.025341	16
1	Syrian War	0.025128	19
2	Nobel Peace Prize	0.006034	9
3	Drought	0.008987	20
4	Debate 1	0.019983	50
5	Debate 3	0.017322	50
6	Debate 2	0.020679	50
""
"
txt = "_id  avgViolence	count
0	Hurricane Sandy	0.025341	16
1	Syrian War	0.025128	19
2	Nobel Peace Prize	0.006034	9
3	Drought	0.008987	20
4	Debate 1	0.019983	50
5	Debate 3	0.017322	50
6	Debate 2	0.020679	50
"
read.table(textConnection(txt))
library(mongolite)
c = mongo(collection = "articles", db = "politics")
c$aggregate('[{"$group": {
"_id":"$topic",
"count": {"$sum":1},
"avgViolence":{"$avg":"$violent_ratio"}
}}]')
df = c$aggregate('[{"$group": {
"_id":"$topic",
"count": {"$sum":1},
"avgViolence":{"$avg":"$violent_ratio"}
}}]')
c = mongo(collection = "debates", db = "politics")
df2 = c$aggregate('[{"$group": {
"_id":"$debate",
"count": {"$sum":1},
"avgViolence":{"$avg":"$violent_ratio"}
}}]')
df2
df
merge(df, df2)
rbind(df, df2)
df = c$find('{}','{"violent_ratio": 1}')
c = mongo(collection = "articles", db = "politics")
df1 = c$find('{}','{"violent_ratio": 1, "topic": 1}')
c = mongo(collection = "debates", db = "politics")
df2 = c$find('{}','{"violent_ratio": 1, "debate": 1}')
df2
paste0("debate_",df2$debate)
c = mongo(collection = "articles", db = "politics")
df1 = c$find('{}','{"violent_ratio": 1, "topic": 1}')
c = mongo(collection = "debates", db = "politics")
df2 = c$find('{}','{"violent_ratio": 1, "debate": 1}')
df2$debate = paste0("debate_",df2$debate)
df = rbind(df, df2)
df = rbind(df1, df2)
names(df1)
names(df1)[2]
names(df1)[2] = "article"
names(df2)[2] = "article"
df2
df = rbind(df1, df2)
df
gp = ggplot(df, aes(x = article, y = violent_ratio, col = group)) +
geom_point(size = 3,
position = position_jitter(width = .25))
gp + ggtitle("Univariate Dotplot")
library(ggplot2)
gp = ggplot(df, aes(x = article, y = violent_ratio, col = group)) +
geom_point(size = 3,
position = position_jitter(width = .25))
gp + ggtitle("Univariate Dotplot")
gp = ggplot(df, aes(x = article, y = violent_ratio, col = article)) +
geom_point(size = 3,
position = position_jitter(width = .25))
gp + ggtitle("Univariate Dotplot")
gp + ggtitle("Univariate Dotplot") + geom_errorbar(stat = "hline", yintercept = "mean",
aes(ymax=..y..,ymin=..y..),
width = 0.5, col = "black")
df2$debate = "Debate"
names(df2)[2] = "article"
c = mongo(collection = "articles", db = "politics")
df1 = c$find('{}','{"violent_ratio": 1, "topic": 1}')
names(df1)[2] = "article"
c = mongo(collection = "debates", db = "politics")
df2 = c$find('{}','{"violent_ratio": 1, "debate": 1}')
df2$debate = paste0("debate_",df2$debate)
df2$debate = "Debate"
names(df2)[2] = "article"
df = rbind(df1, df2)
gp = ggplot(df, aes(x = article, y = violent_ratio, col = article)) +
geom_point(size = 3,
position = position_jitter(width = .25))
gp + ggtitle("Univariate Dotplot") + geom_errorbar(stat = "hline", yintercept = "mean",
aes(ymax=..y..,ymin=..y..),
width = 0.5, col = "black")
gp = ggplot(df, aes(x = article, y = violent_ratio)) +
geom_point(size = 3,
position = position_jitter(width = .25))
gp + ggtitle("Univariate Dotplot") + geom_errorbar(stat = "hline", yintercept = "mean",
aes(ymax=..y..,ymin=..y..),
width = 0.5, col = "black")
gp + ggtitle("Univariate Dotplot") +
geom_errorbar(stat = "hline", yintercept = "mean",
aes(ymax=..y..,ymin=..y..),
width = 0.5, col = "black") +
facet_grid(~article)
gp = ggplot(df, aes(x = 1, y = violent_ratio)) +
geom_point(size = 3,
position = position_jitter(width = .25))
gp + ggtitle("Univariate Dotplot") +
geom_errorbar(stat = "hline", yintercept = "mean",
aes(ymax=..y..,ymin=..y..),
width = 0.5, col = "black") +
facet_grid(~article)
gp = ggplot(df, aes(x = 1, y = violent_ratio)) +
geom_point(size = 3,
position = position_jitter(width = .1))
gp + ggtitle("Univariate Dotplot") +
geom_errorbar(stat = "hline", yintercept = "mean",
aes(ymax=..y..,ymin=..y..),
width = 0.5, col = "black") +
facet_grid(~article)
library(mongolite)
library(ggplot2)
c = mongo(collection = "articles", db = "politics")
df1 = c$find('{}','{"violent_ratio": 1, "topic": 1}')
names(df1)[2] = "article"
c = mongo(collection = "debates", db = "politics")
df2 = c$find('{}','{"violent_ratio": 1, "debate": 1}')
df2$debate = paste0("debate_",df2$debate)
df2$debate = "Debates"
names(df2)[2] = "article"
df = rbind(df1, df2)
gp = ggplot(df, aes(x = 1, y = violent_ratio)) +
geom_point(size = 3,
position = position_jitter(width = .1))
gp + ggtitle("Univariate Dotplot") +
geom_errorbar(stat = "hline", yintercept = "mean",
aes(ymax=..y..,ymin=..y..),
width = 0.5, col = "black") +
facet_grid(~article)
?discrete_scale
?reorder
level(df$article)
levels(df$article)
# articles covering comparison topics
c = mongo(collection = "articles", db = "politics")
df1 = c$find('{}','{"violent_ratio": 1, "topic": 1}')
names(df1)[2] = "article"
# articles about presidental debates
c = mongo(collection = "debates", db = "politics")
df2 = c$find('{}','{"violent_ratio": 1, "debate": 1}')
# df2$debate = paste0("debate_",df2$debate)
df2$debate = "Debates"
names(df2)[2] = "article"
# combine the two dataframes
df = rbind(df1, df2)
levels(df$article)
df$article
df$article = as.factor(df$article)
levels(df$article)
factor(df$article, levels = c("Debates", "Hurricane Sandy", "Syrian War","Drought", "Nobel Peace Prize"))
factor(df$article, levels = c("Debates", "Hurricane Sandy", "Syrian War","Drought", "Nobel Peace Prize")) == df$article
df$article = factor(df$article, levels = c("Debates", "Hurricane Sandy", "Syrian War","Drought", "Nobel Peace Prize"))
c = mongo(collection = "brown", db = "politics")
df3 = c$find('{}','{"violent_ratio": 1}')
df3
df3$article = "Brown Corpus"
df$article = factor(df$article, levels = c("Debates", "Hurricane Sandy", "Syrian War","Drought", "Nobel Peace Prize", "Brown Corpus"))
which.max(df3$violent_ratio)
df3 = c$find('{"category": "news"}','{"violent_ratio": 1}')
df3$article = "Brown Corpus"
gp + ggtitle("Ratio of violent words across different types of news articles") +
geom_errorbar(stat = "hline", yintercept = "mean",
aes(ymax=..y..,ymin=..y..),
width = 0.5, col = "black") +
facet_grid(~article) +
ylab("Ratio of violent words to non-violent words") +
scale_x_continuous(breaks=c(0.8,1,1.2), labels=c("",""))
gp = ggplot(df, aes(x = 1, y = violent_ratio)) +
geom_point(size = 3,
position = position_jitter(width = .1))
gp + ggtitle("Ratio of violent words across different types of news articles") +
geom_errorbar(stat = "hline", yintercept = "mean",
aes(ymax=..y..,ymin=..y..),
width = 0.5, col = "black") +
facet_grid(~article) +
ylab("Ratio of violent words to non-violent words") +
scale_x_continuous(breaks=c(0.8,1,1.2), labels=c("","",""))
gp = ggplot(df, aes(x = 1, y = violent_ratio)) +
geom_point(size = 3,
position = position_jitter(width = .1))
gp + ggtitle("Ratio of violent words across different types of news articles") +
geom_errorbar(stat = "hline", yintercept = "mean",
aes(ymax=..y..,ymin=..y..),
width = 0.5, col = "black") +
facet_grid(~article) +
ylab("Ratio of violent words to non-violent words") +
scale_x_continuous(breaks=c(0.8,1,1.2), labels=c("","",""), name="")
gp = ggplot(df, aes(x = 1, y = violent_ratio)) +
geom_point(size = 3,
position = position_jitter(width = .1))
gp + ggtitle("Ratio of violent words across different types of news articles") +
geom_errorbar(stat = "hline", yintercept = "mean",
aes(ymax=..y..,ymin=..y..),
width = 0.5, col = "black") +
facet_grid(~article) +
ylab("Ratio of violent words to non-violent words") +
scale_x_continuous(breaks=NULL, name="")
